(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4950:function(e,t,l){Promise.resolve().then(l.bind(l,764))},764:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return E}});var s=l(7437),a=l(2265),r=l(8809),i=l(4713),n=l(1359),c=l(3869),d=l(4259),o=l(62),x=l(2665),m=l(884),h=l(5457),u=l(577),f=l(6951),p=l(5761),g=l(2428),b=l(8274),j=l(5448),v=l(3871),N=l(6028),w=l(1924);let y=(0,w.tv)({base:"tracking-tight inline font-semibold",variants:{color:{violet:"from-[#FF1CF7] to-[#b249f8]",yellow:"from-[#FF705B] to-[#FFB457]",blue:"from-[#5EA2EF] to-[#0072F5]",cyan:"from-[#00b7fa] to-[#01cfea]",green:"from-[#6FEE8D] to-[#17c964]",pink:"from-[#FF72E1] to-[#F54C7A]",foreground:"dark:from-[#FFFFFF] dark:to-[#4B4B4B]"},size:{sm:"text-3xl lg:text-4xl",md:"text-[2.3rem] lg:text-5xl leading-9",lg:"text-4xl lg:text-6xl"},fullWidth:{true:"w-full block"}},defaultVariants:{size:"md"},compoundVariants:[{color:["violet","yellow","blue","cyan","green","pink","foreground"],class:"bg-clip-text text-transparent bg-gradient-to-b"}]});(0,w.tv)({base:"w-full md:w-1/2 my-2 text-lg lg:text-xl text-default-600 block max-w-full",variants:{fullWidth:{true:"!w-full"}},defaultVariants:{fullWidth:!0}});let k="\n====SPLIT CHAPTER====\n",F=["example-1.txt","example-2.txt","example-3.txt","example-4.txt","example-5.txt"],C=e=>{let t;let l=/^Chapter (.*)$([\s\S]*?)(?=^Chapter |^---CHAPTER END---|$(?![\s\S]))/gm,s=[];for(;null!==(t=l.exec(e));)s.push({title:"Chapter ".concat(t[1].trim()),content:t[2].trim()});return s};function E(){var e;let[t,l]=(0,a.useState)({}),[w,E]=(0,a.useState)(null),[S,P]=(0,a.useState)([]),[z,B]=(0,a.useState)(null),[A,O]=(0,a.useState)(""),T=a.useRef(null);return(0,a.useEffect)(()=>{F.forEach(e=>{fetch("/input-txt/".concat(e)).then(e=>e.text()).then(t=>{l(l=>({...l,[e]:t}))})})},[]),(0,a.useEffect)(()=>{w&&(P(C(t[w])),B(0))},[w]),(0,a.useEffect)(()=>{null!=z&&S[z]&&O(S[z].content)},[z,S]),(0,s.jsxs)("section",{className:"flex flex-col items-center justify-center gap-4 py-8 md:py-10",children:[(0,s.jsx)("div",{className:"inline-block max-w-xl text-center justify-center",children:(0,s.jsx)("span",{className:y(),children:"Place your changes here"})}),(0,s.jsx)("div",{className:"mt-8 gap-16",children:(0,s.jsxs)(r.Z,{hideCopyButton:!0,hideSymbol:!0,className:"gap-4",variant:"bordered",children:[(0,s.jsxs)("span",{children:["Get started by editing ",(0,s.jsx)(i.z,{color:"primary",children:"app/page.tsx"})]}),(0,s.jsx)("span",{children:"Please feel free to use the example components below."})]})}),(0,s.jsx)("div",{className:"pt-6 w-48",children:(0,s.jsx)(c.g,{items:F.map(e=>({key:e,label:e.replace(/\.txt$/,"")})),label:"Story",placeholder:"Select a story",onChange:e=>E(e.target.value),children:e=>(0,s.jsx)(d.R,{children:e.label},e.key)})}),(0,s.jsx)("div",{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex flex-row ",children:[(0,s.jsxs)("div",{className:(0,N.cn)("relative flex h-full w-96 max-w-[384px] flex-1 flex-col !border-r-small border-divider pr-6 transition-[transform,opacity,margin] duration-250 ease-in-out"),id:"menu",children:[(0,s.jsxs)("header",{className:"flex items-center text-md font-medium text-default-500 group-data-[selected=true]:text-foreground",children:[(0,s.jsx)(n.JO,{className:"text-default-500 mr-2",icon:"solar:clipboard-text-outline",width:24}),"Chapters"]}),(0,s.jsx)(o.o,{className:"max-h-[calc(500px)] -mr-4",id:"menu-scroll",children:(0,s.jsx)("div",{className:"flex flex-col gap-4 py-3 pr-4",children:S.map((e,t)=>(0,s.jsxs)(x.w,{isPressable:!0,className:"max-w-[384px] border-1 border-divider/15 ".concat(z===t?"bg-themeBlue/20":""),shadow:"none",onPress:()=>B(t),children:[(0,s.jsxs)(m.u,{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-1.5",children:[z===t&&(0,s.jsx)(h.z,{className:"mr-1 text-themeBlue bg-themeBlue/20",radius:"sm",size:"sm",variant:"flat",children:"Editing"}),(0,s.jsx)("p",{className:"text-left mr-1",children:e.title})]}),(0,s.jsxs)(u.F,{children:[(0,s.jsx)(f.S,{children:(0,s.jsx)(n.JO,{icon:"proicons:more",width:24})}),(0,s.jsx)(p.a,{"aria-label":"chapter actions",children:(0,s.jsx)(g.W,{onPress:l=>{if(t<S.length-1){let l={title:e.title,content:e.content+"\n"+S[t+1].content};P([...S.slice(0,t),l,...S.slice(t+2)]),B(t)}},children:"Combine with next chapter"},"merge")})]})]}),(0,s.jsx)(b.j,{}),(0,s.jsx)(j.G,{children:(0,s.jsx)("p",{className:"line-clamp-2",children:e.content})})]},t))})})]}),(0,s.jsx)("div",{className:"w-full flex-1 flex-col min-w-[600px] pl-4",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("header",{className:"flex items-center justify-between pb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(v.A,{isIconOnly:!0,size:"sm",variant:"light",children:(0,s.jsx)(n.JO,{className:"hideTooltip text-default-500",height:24,icon:"solar:sidebar-minimalistic-outline",width:24})}),null!==z&&(0,s.jsx)("h4",{className:"text-md",children:null===(e=S[z])||void 0===e?void 0:e.title})]})}),(0,s.jsx)("div",{className:"w-full flex-1 flex-col min-w-[400px]",children:(0,s.jsx)("div",{className:(0,N.cn)("flex flex-col gap-4"),children:(0,s.jsx)("div",{className:"flex flex-col items-start",children:(0,s.jsxs)("div",{className:"relative mb-5 w-full h-[400px] bg-slate-50 dark:bg-gray-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"absolute inset-x-4 top-4 z-10 flex justify-between items-center",children:[(0,s.jsx)("div",{className:"flex justify-between",children:(0,s.jsx)(v.A,{className:"mr-2 bg-white dark:bg-gray-700",size:"sm",startContent:(0,s.jsx)(n.JO,{className:"text-default-500",icon:"ant-design:highlight-outlined",width:24}),variant:"flat",onClick:()=>{if(!T.current)return;let e=T.current,t=e.selectionStart,l=e.selectionEnd;O(A.slice(0,t)+k+A.slice(l)),setTimeout(()=>{e.focus(),e.selectionStart=e.selectionEnd=t+k.length},0)},children:"Insert chapter split"})}),(0,s.jsx)(v.A,{className:"mr-2 bg-white dark:bg-gray-700",size:"sm",startContent:(0,s.jsx)(n.JO,{className:"text-default-500",icon:"material-symbols:save-outline",width:24}),variant:"flat",onClick:()=>{if(null==z)return;let e=A.split(/====SPLIT CHAPTER====\s*/g);P([...S.slice(0,z),...e.map((e,t)=>({title:0===t?S[z].title:"".concat(S[z].title," (Part ").concat(t+1,")"),content:e.trim()})),...S.slice(z+1)]),B(z)},children:"Split"})]}),(0,s.jsx)("div",{children:(0,s.jsx)(o.o,{className:"editScrollShow absolute left-2 right-2 bottom-10 top-12 text-base p-3 resize-none rounded-md border-solid border-inherit bg-slate-50 dark:bg-gray-800",children:(0,s.jsxs)("div",{className:"flex w-full h-full bg-slate-50 dark:bg-gray-200 rounded-lg p-2",children:[(0,s.jsx)("textarea",{ref:T,className:"flex-1 p-3 resize-none rounded-md border border-transparent bg-slate-50 dark:bg-gray-200 text-gray-900",value:A,onChange:e=>O(e.target.value)}),(0,s.jsx)("div",{className:"bg-gray-100 p-1 rounded-md self-end ml-2"})]})})})]})})})})]})})]})})]})}}},function(e){e.O(0,[970,28,971,23,744],function(){return e(e.s=4950)}),_N_E=e.O()}]);